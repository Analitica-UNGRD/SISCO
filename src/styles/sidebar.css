/* Shared sidebar styles (improved)
   - Full height (fills viewport)
   - Collapsed icons-only (64px) and expanded width (16rem)
   - Vertical spacing between items and scrollable nav area
   - Pin button visibility and transitions preserved
*/
:root{ --sidebar-bg: #1f2937; --pin-color: #f59e0b; --sidebar-collapsed-w: 64px; --sidebar-expanded-w: 16rem; }
.sidebar{
  background-color: var(--sidebar-bg);
  position:sticky;
  top:0;
  height:100vh; /* ensure it reaches bottom */
  width: var(--sidebar-collapsed-w);
  display:flex;
  flex-direction:column;
  transition: width 180ms ease, box-shadow 180ms ease;
  overflow:visible;
  flex-shrink:0;
}
.sidebar:hover, .sidebar.expanded{ width: var(--sidebar-expanded-w); box-shadow: 0 6px 18px rgba(15,23,42,0.12); }

/* Header area */
.sidebar > .p-6{ padding: 1.25rem; }
.sidebar .menu-title{ display:block; transition: opacity 120ms ease, transform 120ms ease; }

/* Nav grows to fill available space so bottom-area stays pinned to bottom */
.sidebar nav{ flex:1 1 auto; overflow:auto; padding-bottom:0; }
.sidebar nav{ -ms-overflow-style: none; /* IE 10+ */
  scrollbar-width: none; /* Firefox */
}
.sidebar nav::-webkit-scrollbar{ width: 0; height: 0; }
.sidebar nav ul{ display:flex; flex-direction:column; gap:1rem; margin:0; padding:0.5rem; list-style:none; }
.sidebar nav ul li{ border-radius:8px; }
.sidebar nav ul li a{ display:flex; align-items:center; gap:1rem; padding:0.6rem 0.75rem; color:inherit; min-height:48px; }

/* Spacing in collapsed mode: icons centered with vertical spacing */
.sidebar.collapsed nav{ overflow:visible; }
.sidebar.collapsed nav ul li a{ justify-content:center; padding-left:0; padding-right:0; }
.sidebar.collapsed nav ul li{ padding-left:0; padding-right:0; }

.sidebar .menu-label{ display:inline-block; transition: opacity 120ms ease, transform 120ms ease; }
.sidebar.collapsed .menu-label{ opacity:0; transform: translateX(-6px); width:0; margin:0; pointer-events:none; }
.sidebar.collapsed .menu-title{ display:none; }

/* Bottom area pinned at end of flex column (no absolute needed) */
.sidebar .bottom-area{ width:100%; padding:1rem; display:flex; align-items:center; justify-content:space-between; }
.sidebar.collapsed .bottom-area a{ justify-content:center; padding-left:0; padding-right:0; }

/* Estilos para el botÃ³n de logout */
.logout-danger {
    background: #6b7280;
    color: #fff;
    border: none;
    padding: 10px 12px;
    border-radius: 8px;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    box-sizing: border-box;
    gap: 10px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.logout-danger:hover {
    background: #4b5563;
}

.logout-danger .material-icons {
    font-size: 18px;
}

.sidebar.collapsed .logout-danger {
    width: 44px;
    padding-left: 6px;
    padding-right: 6px;
    justify-content: center;
}

.sidebar.collapsed .logout-danger .menu-label {
    display: none !important;
}

/* Ensure bottom-area stacks vertically when sidebar is expanded or hovered */
.sidebar.expanded .bottom-area, .sidebar:hover .bottom-area { display:flex; flex-direction:column !important; align-items:stretch !important; gap:0.5rem; }
.sidebar.expanded .bottom-area > div:first-child, .sidebar:hover .bottom-area > div:first-child { display:flex; justify-content:space-between; align-items:center; width:100%; }
.sidebar.expanded .bottom-area > div:last-child, .sidebar:hover .bottom-area > div:last-child { width:100%; }
.sidebar.expanded .bottom-area .logout-danger, .sidebar:hover .bottom-area .logout-danger { width:100%; justify-content:flex-start; padding-left:12px; }

/* Pin button visuals and visibility rules */
.pin-btn.pinned{ color: var(--pin-color); }
.pin-btn{ display:inline-flex; align-items:center; justify-content:center; border-radius:6px; opacity:0; pointer-events:none; transform:translateY(4px); transition: opacity .15s ease, transform .15s ease; }
.sidebar.collapsed .pin-btn{ opacity:0 !important; pointer-events:none !important; }
.sidebar:hover .pin-btn, .sidebar:focus-within .pin-btn, .sidebar.expanded .pin-btn, .pin-btn.pinned, .pin-btn.force-visible{ opacity:1; pointer-events:auto; transform:translateY(0); }

/* Active item helper used by JS */
.sidebar li.bg-gray-700{ background:#374151 !important; }
.sidebar li.text-white{ color:#fff !important; }

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion:reduce){
  .sidebar, .pin-btn{ transition:none !important; }
}

/* Make icons visually centered when sidebar is collapsed */
.sidebar nav ul li a .material-icons{ display:block; font-size:24px; line-height:24px; }
.sidebar.collapsed nav ul li a .material-icons{ display:block; font-size:24px; line-height:24px; }
.sidebar.collapsed nav ul li a .menu-label{ display:none !important; }

/* Override: ensure collapsed sidebar clips any overflowing children and hides labels */
.sidebar.collapsed{ overflow:hidden !important; }
.sidebar.collapsed .menu-label{ display:none !important; opacity:0 !important; max-width:0 !important; width:0 !important; margin:0 !important; padding:0 !important }
.sidebar.collapsed .bottom-area{ padding-left:6px; padding-right:6px; box-sizing:border-box; overflow:hidden }
.sidebar.collapsed .bottom-area .logout-danger{ max-width:100%; padding-left:6px; padding-right:6px; box-sizing:border-box }
.sidebar .bottom-area a, .sidebar .bottom-area .pin-btn{ flex:0 0 auto }

/* When collapsed, center settings icon so it lines up with nav icons */
.sidebar.collapsed .bottom-area{ align-items:center; }
.sidebar.collapsed .bottom-area a{ justify-content:center; width:100%; display:inline-flex; align-items:center; }
.sidebar.collapsed .bottom-area a .material-icons{ font-size:24px; line-height:24px }
